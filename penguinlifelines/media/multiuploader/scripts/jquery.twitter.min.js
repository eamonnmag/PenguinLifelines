(function (a) {
    a.fn.getTwitter = function (b) {
        var d = a.extend({}, a.fn.getTwitter.defaults, b);
        a(this).hide();
        if (d.showHeading) {
            a(this).append("<h2>" + d.headingText + "</h2>")
        }
        a(this).append('<ul id="twitter_update_list"><li></li></ul>');
        a("ul#twitter_update_list").hide();
        var c = a('<span class="loading-text" id="' + d.preloaderId + '">' + d.loaderText + "</span>");
        a(this).append(c);
        if (d.showProfileLink) {
            a(this).append('<a id="profileLink" href="http://twitter.com/' + d.userName + '">http://twitter.com/' + d.userName + "</a>")
        }
        a(this).show();
        a.getScript("http://twitter.com/javascripts/blogger.js");
        a.getScript("https://api.twitter.com/1/statuses/user_timeline.json?screen_name=" + d.userName + "&callback=twitterCallback2&count=" + d.numTweets, function () {
            a(c).remove();
            if (d.slideIn) {
                a("ul#twitter_update_list").slideDown(1000)
            } else {
                a("ul#twitter_update_list").show()
            }
            a("ul#twitter_update_list").addClass("firstTweet");
        })
    };
    a.fn.getTwitter.defaults = {userName:null, numTweets:5, preloaderId:"preloader", loaderText:"Loading tweets...", slideIn:false, showHeading:true, headingText:"Latest Tweets", showProfileLink:true}
})(jQuery);